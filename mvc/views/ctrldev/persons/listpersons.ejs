<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Listando Personagens</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
</head>
<style>
  /* Adicione as seguintes classes ao seu arquivo de estilo CSS */
  body {
    background-color: #424242; /* Tema escuro preto */
    color: #ffffff; /* Cor do texto branca */
  }
  nav.navbar{
    background-color: #303030!important; 
  }
   a.titulo{
    color: #ffffff;
  }
  a.nav-link{
    background-color: #0056b3;
  }

  /* Botões */
  .btn {
    background-color: #007bff; /* Cor azul */
    color: #ffffff;
    transition: background-color 0.3s ease;
  }

  .btn:hover {
    background-color: #0056b3; /* Cor azul mais escura no hover */
  }

  /* Bordas e caixas */
  .border-dark {
    border-color: #007bff; /* Cor azul para bordas */
  }

  /* Fundo de navegação */
  .bg-body-tertiary {
    background-color: #7a7a7a; /* Cor de fundo escura para a barra de navegação */
  }

  /* Animação sutil */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .fadeIn {
    animation: fadeIn 1s ease;
  }

  /* ... (Adapte conforme necessário) ... */

  button.cad{
    background-color: #0056b3;
  }
  .btn-update, .btn-delete {
    transition: transform 0.3s ease;
  }

  .btn-update:hover, .btn-delete:hover {
    transform: scale(1.1);
  }
  nav img{
    width: 50px;
    height: 50px;
  }
  div.title{
    background-color: #ffffff;
    color:#303030;
  }
</style>
<body>
  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid"><img src="images/logocerta.png"  width="30" height="24">
        <a class="navbar-brand titulo" >     CompanyMoon</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item m-1">
              <a class="nav-link active btn  " aria-current="page" href=""><i class="bi bi-house-door"></i> Home</a>
            </li>
            <li class="nav-item m-1">
              <a class="nav-link  btn " aria-current="page" href="/cupom/lista"><i class="bi bi-cash-coin"></i> Cupons</a>
            </li>
            <li class="nav-item m-1">
              <a class="nav-link  btn " aria-current="page" href="/listdesconto"><i class="bi bi-bag-fill"></i> Descontos</a>
            </li>
            <li class="nav-item m-1">
              <a class="nav-link  btn " aria-current="page" href="/listpromo"><i class="bi bi-award-fill"></i> Promoção</a>
            </li>
            <li class="nav-item m-1">
              <a class="nav-link  btn " aria-current="page" href="/listperson"><i class="bi bi-person"></i> Personagens</a>
            </li>
            <li class="nav-item m-1"> 
              <a class="nav-link  btn " aria-current="page" href="/listskins"><i class="bi bi-gift"></i> Skins</a>
            </li>
            
            <li class="nav-item m-1 ms-5">
              <a class="nav-link  btn text-bg-danger" aria-current="page" href="#"> <i class="bi bi-x-octagon"></i> Sair</a>
            </li>
           
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <main>
    <h2>Listando Personagens</h2>
    <div class="row">
      <button class="btn cad" onclick="registrar()"><a  class="btn"><i
            class="bi bi-person-plus"></i> Adicionar Personagens</a></button>
    </div>
    <section class="listar border border-primary-subtle m-4">
      <!-- cabeçalho da listagem -->
      <div class="row m-3 border-top  p-2 text-start rounded title">
        <div class="col border-end border-danger">Nome</div>
        <div class="col border-end border-danger">gênero</div>
        <div class="col border-end border-danger">Tipo</div>
        <div class="col border-end border-danger">$Moeda</div>
        <div class="col border-end border-danger">Latitude</div>
        <div class="col border-end border-danger">Longitude</div>
        <div class="col border-end border-danger">Id de Skin</div>
        
        <div class="col border-end border-danger text-center">Atualizar</div>
        <div class="col border-end border-danger text-center">Apagar</div>
      </div>
      <!-- aqui vai um loop vindo do BD -->

      <% for(let p of person){ %>

        <div class="row m-3 border p-2 text-start rounded title">
          <div class="col border-end">
            <%= p.nome %>
          </div>
          <div class="col border-end">
            <%= p.genero %>
          </div>
          <div class="col border-end">
            <%= p.tipo %>
          </div>
          <div class="col border-end">
            <%= p.coins %>
          </div>
          <div class="col border-end">
            <%= p.latitudeStart %>
          </div>
          <div class="col border-end">
            <%= p.longitudeStart %>
          </div>
          <div class="col border-end">
            <%= p.skinPerson %>
          </div>
          <div class="col border-start text-center"><button onclick="atualizarPagina('<%= p.id %>')"
              class="btn bg-success btn-update"><i class="bi bi-pencil"></i> Update</button></div>
          <div class="col border-start  text-center"><button onclick="deletarInfo('<%= p.id %>')"
              class="btn bg-danger btn-delete"><i class="bi bi-trash"></i> Delete</button></div>
        </div>

        <% }%>




    </section>

  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <script>
    function registrar() {
      location.href = "/addPerson"
    }
    function atualizarPagina(id) {
      if (id) {
        location.href = "/pagina/atualizarpersonagem/" + id
      }
    }

    async function deletarInfo(id) {
      if (id) {
        const response = await fetch("/personApagar/" + id, { method: 'DELETE' })

        const result = await response.json()
        const reply = await result
        
        location.reload()

      }

    }

  </script>
  <script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
<script src="semantic/dist/semantic.min.js"></script>
</body>

</html>